---
import { getEntry } from "astro:content";
import Icon from "./Icon.astro";
import InstagramIcon from "@src/icons/InstagramIcon.astro";
import LinkedinIcon from "@src/icons/LinkedinIcon.astro";
import FacebookIcon from "@src/icons/FacebookIcon.astro";

const { data: social } = await getEntry("socialMedia", "socialmedia");
---

<footer class="footer">
  <div class="footer__top-bar">
    <a href="/mentions-legales" class="footer__link">Mentions Légales</a>
  </div>
  <div class="footer__bottom-bar">
    <a href="/contact" class="footer__link">Contact</a>
    <div class="footer__social">
      <a href={social.instagram} target="_blank" rel="noopener noreferrer">
        <InstagramIcon class="footer__icon" />
      </a>
      <a href={social.linkedin} target="_blank" rel="noopener noreferrer">
        <LinkedinIcon class="footer__icon" />
      </a>
      <a href={social.facebook} target="_blank" rel="noopener noreferrer">
        <FacebookIcon class="footer__icon" />
      </a>
    </div>
    <a href="/mentions-legales" class="footer__link">Mentions Légales</a>
  </div>
  <div class="footer__credits">
    Site réalisé par{" "}
    <a href="https://mgdg.fr" target="_blank" rel="noopener noreferrer">
      MGDG
    </a>
     et
    <a
      href="https://www.linkedin.com/in/kevin-lanvin-0208281b5/"
      target="_blank"
      rel="noopener noreferrer"
    >
      Kévin Lanvin
    </a>
  </div>
</footer>

<style lang="scss">
  @import "../styles/_vars.scss";

  .footer {
    width: 100%;
    margin-top: $gutter;
    &__top-bar {
      background-color: $color-white;
      width: 100%;
      height: 3rem;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    &__credits {
      display: flex;
      width: 100%;
      background-color: $color-main;
      justify-content: center;
      color: white;
      font-size: 0.8rem;
      text-align: center;
      padding: $gutter-extra-small 0;
      a {
        color: white;
        text-decoration: underline;
        margin: 0 0.25rem;
      }
    }
    &__bottom-bar {
      display: none;
    }
    &__link {
      margin: 0 1rem;
    }
  }

  @media (max-width: $breakpoint) {
    .footer {
      &__top-bar {
        display: none;
      }
      &__bottom-bar {
        flex-direction: column;
        display: flex;
        align-items: center;
        background-color: $color-main;
        p,
        a,
        .footer__social {
          padding: $gutter-small 0;
          color: white;
          text-decoration: underline;
          margin: 0 0.25rem;
          font-size: 0.8rem;
        }
      }
      &__social {
        display: flex;
        justify-content: center;
        gap: $gutter-small;
        a {
          padding: 0;
        }
        svg {
          height: 1rem;
          width: 1rem;
          margin: 0 1rem;
        }
      }
      :global(.footer__icon) {
        width: 1.5rem;
      }
    }
  }
</style>
